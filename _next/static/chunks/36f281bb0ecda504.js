(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6040,e=>{"use strict";e.s(["useUserStore",()=>i],6040);var t=e.i(45123);let a=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>a(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}};var r=e.i(39469);let i=(0,t.create)(((e,t)=>(r,i,n)=>{let o,s={storage:function(e,t){let a;try{a=e()}catch(e){return}return{getItem:e=>{var t;let r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=a.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,t)=>a.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>a.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},l=!1,u=new Set,m=new Set,c=s.storage;if(!c)return e(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),r(...t)},i,n);let d=()=>{let e=s.partialize({...i()});return c.setItem(s.name,{state:e,version:s.version})},g=n.setState;n.setState=(e,t)=>(g(e,t),d());let p=e(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(...t),d()},i,n);n.getInitialState=()=>p;let v=()=>{var e,t;if(!c)return;l=!1,u.forEach(e=>{var t;return e(null!=(t=i())?t:p)});let n=(null==(t=s.onRehydrateStorage)?void 0:t.call(s,null!=(e=i())?e:p))||void 0;return a(c.getItem.bind(c))(s.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===s.version)return[!1,e.state];else{if(s.migrate){let t=s.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[a,n]=e;if(r(o=s.merge(n,null!=(t=i())?t:p),!0),a)return d()}).then(()=>{null==n||n(o,void 0),o=i(),l=!0,m.forEach(e=>e(o))}).catch(e=>{null==n||n(void 0,e)})};return n.persist={setOptions:e=>{s={...s,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>l,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},s.skipHydration||v(),o||p})((e,t)=>({user:null,isLoggedIn:!1,isLoading:!0,setUserData:t=>{if(t){let a=t.email&&t.email.includes("admin")?"admin":"user";e({user:{...t,role:a},isLoggedIn:!0,isLoading:!1})}else e({user:null,isLoggedIn:!1,isLoading:!1}),localStorage.removeItem("accessToken")},setLoading:t=>e({isLoading:t}),appLogout:async()=>{e({isLoading:!0});try{await (0,r.firebaseSignOut)()}catch(e){console.error("Logout failed:",e)}finally{e({isLoading:!1})}}}),{name:"user-storage",partialize:e=>({user:e.user,isLoggedIn:e.isLoggedIn})}))},29657,e=>{e.v({className:"geist_2ae47f08-module__h69qWW__className",variable:"geist_2ae47f08-module__h69qWW__variable"})},81276,e=>{e.v({className:"geist_mono_eb58308d-module__w_p2Lq__className",variable:"geist_mono_eb58308d-module__w_p2Lq__variable"})},84741,e=>{"use strict";e.s(["default",()=>m],84741);var t=e.i(78196),a=e.i(29657);let r={className:a.default.className,style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"}};null!=a.default.variable&&(r.variable=a.default.variable);var i=e.i(81276);let n={className:i.default.className,style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"}};null!=i.default.variable&&(n.variable=i.default.variable);var o=e.i(49430);e.i(95195),e.i(17363);var s=e.i(6040),l=e.i(39469),u=e.i(31272);function m(e){let{children:a}=e,i=(0,s.useUserStore)(e=>e.setUserData);return(0,o.useEffect)(()=>{console.log("Setting up Firebase Auth Listener...");let e=(0,l.initializeAuthListener)(i);return()=>{console.log("Cleaning up Firebase Auth Listener."),e()}},[i]),(0,t.jsxs)("html",{children:[(0,t.jsxs)("head",{children:[(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,t.jsx)("title",{children:"miruta"}),(0,t.jsx)("meta",{name:"description",content:"Crea, Guarda y Comparte rutas o puntos de interes para informar requisitos, necesidades y tareas en tiempo real."}),(0,t.jsx)("meta",{property:"og:title",content:"miruta"}),(0,t.jsx)("meta",{property:"og:description",content:"Crea, Guarda y Comparte rutas o puntos de interes para informar requisitos, necesidades y tareas en tiempo real."}),(0,t.jsx)("meta",{property:"og:type",content:"website"}),(0,t.jsx)("meta",{property:"og:url",content:"https://www.yourdomain.com/"}),(0,t.jsx)("meta",{property:"og:image",content:"https://www.yourdomain.com/social-preview.jpg"}),(0,t.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,t.jsx)("meta",{name:"twitter:site",content:"@YourTwitterHandle"}),(0,t.jsx)("meta",{name:"twitter:title",content:"miruta"}),(0,t.jsx)("meta",{name:"twitter:description",content:"Crea, Guarda y Comparte rutas o puntos de interes para informar requisitos, necesidades y tareas en tiempo real."}),(0,t.jsx)("meta",{name:"twitter:image",content:"https://www.yourdomain.com/twitter-preview.jpg"}),(0,t.jsx)("meta",{name:"theme-color",content:"#FFFFFF"})]}),(0,t.jsx)("body",{className:"".concat(r.variable," ").concat(n.variable," antialiased"),children:(0,t.jsx)(u.APIProvider,{apiKey:"AIzaSyDZvAZlxvN90xbCzS8Ul1kjgaooV-Ctojw",children:a})})]})}}]);