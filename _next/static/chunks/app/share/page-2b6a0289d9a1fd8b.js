(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[38],{4185:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var a=r(4248),t=r(4564),n=r(5519),l=r(24),o=r(2019),d=r(9233);let c="text-emerald-600",i="border-emerald-200",m=()=>{let{push:e}=(0,n.useRouter)(),s=(0,n.useSearchParams)(),r=(0,l.R)(e=>e.setCurrentMapMetadata),d=(0,l.R)(e=>e.setTitle),m=(0,l.R)(e=>e.setDescription),u=(0,l.R)(e=>e.setObjective),x=(0,l.R)(e=>e.setMarkers),h=(0,l.R)(e=>e.setDrawings),p=s.get("id"),g=async()=>{if(!p)return;let[s,t]=p.split("|"),n=await (0,o.xF)(s,t);if(!n)return console.warn("POI not found:",p),(0,a.jsx)(a.Fragment,{});r({id:n.id,mode:"new"}),x(n.markers),h(n.drawings),d(n.title),m(n.description),u(n.objective),e("v")};return((0,t.useEffect)(()=>{g()},[p]),console.log("Visualizando Mapa ID: ".concat(p," con versi\xf3n: ")),p&&"undefined"!==p)?(0,a.jsxs)("div",{className:"p-6 ".concat("bg-emerald-50"," rounded-xl shadow-2xl max-w-3xl mx-auto"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 border-b pb-3 mb-4 border-emerald-300",children:[(0,a.jsx)("svg",{className:"w-8 h-8 ".concat(c),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243m-4.004-7.147l4.004 4.004m-.44 4.742a12.071 12.071 0 00.322 4.032 9.074 9.074 0 01-1.018 3.518M18 10a8 8 0 11-16 0 8 8 0 0116 0z"})}),(0,a.jsx)("h1",{className:"text-2xl font-extrabold text-gray-800",children:"Visualizando Mapa P\xfablico"})]}),(0,a.jsxs)("div",{className:"mt-4 p-4 ".concat(i," border rounded-lg bg-white shadow-inner"),children:[(0,a.jsxs)("div",{className:"space-y-3 text-gray-700",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"font-semibold ".concat(c),children:"ID Cargado (Query Param):"}),(0,a.jsx)("code",{className:"bg-gray-100 text-gray-800 p-1 rounded ml-2 text-sm",children:p})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"font-semibold ".concat(c),children:"Versi\xf3n del Componente:"}),(0,a.jsx)("span",{className:"ml-2",children:"Cliente (Client Component)"})]})]}),(0,a.jsxs)("p",{className:"mt-4 pt-4 border-t border-gray-100 text-gray-600",children:["✅ Se ha extra\xeddo el POI ID y el User ID del par\xe1metro",(0,a.jsx)("code",{className:"font-mono text-emerald-700 mx-1",children:"id"}),". Ahora puedes usarlos para cargar los datos correctos de la base de datos."]})]})]}):(0,a.jsxs)("div",{className:"p-6 bg-red-50 ".concat(i," border-l-4 border-red-500 rounded-lg shadow-md max-w-lg mx-auto"),role:"alert",children:[(0,a.jsx)("p",{className:"text-lg font-semibold text-red-700",children:"⚠️ Error de Carga"}),(0,a.jsx)("p",{className:"mt-1 text-red-600",children:"ID de mapa no proporcionado en la URL. Por favor, verifique el enlace."})]})};function u(){return(0,a.jsx)("div",{className:"min-h-screen p-8 bg-gray-50 flex justify-center items-start",children:(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"".concat(c," text-lg font-medium p-4"),children:(0,a.jsx)(d.y,{})}),children:(0,a.jsx)(m,{})})})}},5519:(e,s,r)=>{"use strict";var a=r(2455);r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},8650:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(5112).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9233:(e,s,r)=>{"use strict";r.d(s,{y:()=>l});var a=r(4248),t=r(8650),n=r(1615);function l(e){let{className:s,...r}=e;return(0,a.jsx)(t.A,{role:"status","aria-label":"Loading",className:(0,n.cn)("size-4 animate-spin",s),...r})}},9349:(e,s,r)=>{Promise.resolve().then(r.bind(r,4185))}},e=>{e.O(0,[602,712,103,60,647,516,358],()=>e(e.s=9349)),_N_E=e.O()}]);