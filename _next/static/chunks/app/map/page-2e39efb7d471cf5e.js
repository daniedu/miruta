(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{2122:(e,l,o)=>{"use strict";o.d(l,{FullScreenGoogleMap:()=>g});var s=o(4248),t=o(4564),i=o(24),r=o(2019),n=o(2864),a=o(302),c=o(5519);let d={lat:5.821944,lng:-73.029722},g=e=>{let{}=e;(0,n.ko)();let{push:l}=(0,c.useRouter)(),o=(0,i.R)(e=>e.setCurrentMapMetadata),g=(0,i.R)(e=>e.setTitle),u=(0,i.R)(e=>e.setDescription),m=(0,i.R)(e=>e.setObjective),p=(0,i.R)(e=>e.setMarkers),h=(0,i.R)(e=>e.setDrawings),[b,v]=(0,t.useState)([]),[x,k]=(0,t.useState)(null),f=async()=>{try{v(await (0,r.g0)())}catch(e){console.log("error on get",e)}};(0,t.useEffect)(()=>(f(),()=>{}),[]),console.log(b);let L=(0,i.R)(e=>e.zoom)||16,w=(0,i.R)(e=>e.center)||d;return(0,s.jsx)("div",{style:{width:"100%",height:"100%",overflow:"hidden"},children:(0,s.jsxs)(n.T5,{id:"create_map_view",mapId:"create_map_id_view",defaultCenter:w,defaultZoom:L,gestureHandling:"cooperative",disableDefaultUI:!0,children:[b.map(e=>{let l=(0,a.Rg)(e.icon);console.log(e),console.log(e.position);let o=null==e?void 0:e.markers[0];return(0,s.jsx)(n.J8,{onClick:()=>{k(e),console.log(e)},position:{lat:e.lat,lng:e.lng},title:e.title,className:"p-2 rounded-4xl border-2",style:{background:o.background,borderColor:o.iconColor,color:o.iconColor},children:(0,s.jsx)(l,{className:"h-7 w-7 cursor-pointer ",style:{color:o.iconColor}})},e.id)}),x&&(0,s.jsx)(n.Fu,{className:"mb-4",position:{lat:x.lat,lng:x.lng},onCloseClick:()=>k(null),children:(0,s.jsxs)("div",{className:"p-2 flex flex-col items-center mb-2",children:[(0,s.jsx)("h5",{className:"text-lg font-bold mb-1",children:x.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:(null==x?void 0:x.description)||"Sin descripci\xf3n."}),(0,s.jsx)("button",{className:"px-4 py-2 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 transition",onClick:()=>{k(null),o({id:x.id,mode:"view"}),p(x.markers),h(x.drawings),g(x.title),u(x.description),m(x.objective),l("v")},children:"Ver Detalles"})]})})]})})}},5539:(e,l,o)=>{"use strict";o.d(l,{k:()=>r});var s=o(2803),t=o(8601),i=o(7927);let r=(0,s.v)((0,t.Zr)((e,l)=>({user:null,isLoggedIn:!1,isLoading:!0,setUserData:l=>{if(l){let o=l.email&&l.email.includes("admin")?"admin":"user";e({user:{...l,role:o},isLoggedIn:!0,isLoading:!1})}else e({user:null,isLoggedIn:!1,isLoading:!1}),localStorage.removeItem("accessToken")},setLoading:l=>e({isLoading:l}),appLogout:async()=>{e({isLoading:!0});try{await (0,i.tV)()}catch(e){console.error("Logout failed:",e)}finally{e({isLoading:!1})}}}),{name:"user-storage",partialize:e=>({user:e.user,isLoggedIn:e.isLoggedIn})}))},7107:(e,l,o)=>{Promise.resolve().then(o.bind(o,9558)),Promise.resolve().then(o.bind(o,2122))}},e=>{e.O(0,[602,643,712,103,997,591,596,886,16,60,711,558,647,516,358],()=>e(e.s=7107)),_N_E=e.O()}]);